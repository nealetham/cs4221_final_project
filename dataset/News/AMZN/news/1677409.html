<!DOCTYPE html>
<html lang="en"><head><title data-rh="true">How to Use Amazon S3 Select to Query CSV | Towards Data Science</title><meta charset="utf-8" data-rh="true"/><meta content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1" data-rh="true" name="viewport"/><meta content="#000000" data-rh="true" name="theme-color"/><meta content="Medium" data-rh="true" name="twitter:app:name:iphone"/><meta content="828256236" data-rh="true" name="twitter:app:id:iphone"/><meta content="Medium" data-rh="true" property="al:ios:app_name"/><meta content="828256236" data-rh="true" property="al:ios:app_store_id"/><meta content="com.medium.reader" data-rh="true" property="al:android:package"/><meta content="542599432471018" data-rh="true" property="fb:app_id"/><meta content="Medium" data-rh="true" property="og:site_name"/><meta content="article" data-rh="true" property="og:type"/><meta content="2020-06-03T16:46:36.360Z" data-rh="true" property="article:published_time"/><meta content="How to Use Amazon S3 Select to Query CSV | Towards Data Science" data-rh="true" name="title"/><meta content="Ditch the Database" data-rh="true" property="og:title"/><meta content="medium://p/20a5a0a1fb72" data-rh="true" property="al:android:url"/><meta content="medium://p/20a5a0a1fb72" data-rh="true" property="al:ios:url"/><meta content="Medium" data-rh="true" property="al:android:app_name"/><meta content="Amazon S3 Select has the potential to greatly simplify web app frameworks by ditching classical databases and querying CSV files directly in Amazon S3." data-rh="true" name="description"/><meta content="How to use AWS S3 Select to query smarter and maybe cheaper" data-rh="true" property="og:description"/><meta content="https://towardsdatascience.com/ditch-the-database-20a5a0a1fb72" data-rh="true" property="og:url"/><meta content="https://towardsdatascience.com/ditch-the-database-20a5a0a1fb72" data-rh="true" property="al:web:url"/><meta content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*iwSfk8QQwE3umx1n" data-rh="true" property="og:image"/><meta content="https://medium.com/@davidhurley_48402" data-rh="true" property="article:author"/><meta content="David Hurley" data-rh="true" name="author"/><meta content="index,noarchive,follow,max-image-preview:large" data-rh="true" name="robots"/><meta content="unsafe-url" data-rh="true" name="referrer"/><meta content="Ditch the Database" data-rh="true" property="twitter:title"/><meta content="@TDataScience" data-rh="true" name="twitter:site"/><meta content="medium://p/20a5a0a1fb72" data-rh="true" name="twitter:app:url:iphone"/><meta content="How to use AWS S3 Select to query smarter and maybe cheaper" data-rh="true" property="twitter:description"/><meta content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*iwSfk8QQwE3umx1n" data-rh="true" name="twitter:image:src"/><meta content="summary_large_image" data-rh="true" name="twitter:card"/><meta content="Reading time" data-rh="true" name="twitter:label1"/><meta content="5 min read" data-rh="true" name="twitter:data1"/><link data-rh="true" href="https://miro.medium.com/v2/resize:fill:256:256/1*VzTUkfeGymHP4Bvav-T-lA.png" rel="icon"/><link data-rh="true" href="/osd.xml" rel="search" title="Medium" type="application/opensearchdescription+xml"/><link data-rh="true" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" rel="apple-touch-icon" sizes="152x152"/><link data-rh="true" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" rel="apple-touch-icon" sizes="120x120"/><link data-rh="true" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" rel="apple-touch-icon" sizes="76x76"/><link data-rh="true" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" rel="apple-touch-icon" sizes="60x60"/><link color="#171717" data-rh="true" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" rel="mask-icon"/><link as="style" data-rh="true" href="https://glyph.medium.com/css/unbound.css" id="glyph_preload_link" rel="preload" type="text/css"/><link data-rh="true" href="https://glyph.medium.com/css/unbound.css" id="glyph_link" rel="stylesheet" type="text/css"/><link data-rh="true" href="https://medium.com/@davidhurley_48402" rel="author"/><link data-rh="true" href="https://towardsdatascience.com/ditch-the-database-20a5a0a1fb72" rel="canonical"/><link data-rh="true" href="android-app://com.medium.reader/https/medium.com/p/20a5a0a1fb72" rel="alternate"/></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="du ag dv bf ak b am an ao ap aq ar as at s u w i d q dw z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F20a5a0a1fb72&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;source=---top_nav_layout_nav----------------------------------" rel="noopener follow">Open in app<svg class="dt" fill="none" height="10" viewbox="0 0 10 10" width="10" xmlns="http://www.w3.org/2000/svg"><path d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z" fill="currentColor"></path></svg></a><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a aria-label="Homepage" class="af ag ah ai aj ak al am an ao ap aq ar as at ab" data-testid="headerMediumLogo" href="https://medium.com/?source=---top_nav_layout_nav----------------------------------" rel="noopener follow"><svg class="au av aw" fill="none" height="160" viewbox="0 0 719 160" width="719" xmlns="http://www.w3.org/2000/svg"><path d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z" fill="#242424"></path></svg></a><div class="ax h"><div class="ab ay az ba bb q bc bd"><div aria-describedby="searchResults" aria-hidden="false" aria-labelledby="searchResults" class="bm"></div><div class="bn bo ab"><svg fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" fill="currentColor" fill-rule="evenodd"></path></svg></div><input aria-controls="searchResults" aria-expanded="false" aria-label="search" class="ay be bf bg z bh bi bj bk bl" data-testid="headerSearchInput" placeholder="Search" role="combobox" tabindex="0" value=""/></div></div></div><div class="h k w fg fh"><div class="fi ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav-----------" rel="noopener follow"><div class="bf b bg z du fj fk ab q fl fm"><svg aria-label="Write" fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z" fill="currentColor"></path><path d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2" stroke="currentColor"></path></svg><div class="dt l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fi ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" href="https://medium.com/search?source=---top_nav_layout_nav----------------------------------" rel="noopener follow"><div class="bf b bg z du fj fk ab q fl fm"><svg aria-label="Search" fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" fill="currentColor" fill-rule="evenodd"></path></svg></div></a></div></div><div class="fi h k j"><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div aria-hidden="false" class="l"><button aria-label="user options menu" class="ay fn am ab q ao fo fp fq" data-testid="headerUserIcon"><div class="l fj"><img alt="" class="l fd by bz ca cx" height="32" loading="lazy" role="presentation" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32"/><div class="fr by l bz ca fs n ay ft"></div></div></button></div></div></div><div class="l"><div class="fu fv fw fx fy l"><div class="ab cb"><div class="ci bh fz ga gb gc"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fs gi gj gk gl gm"></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><div><h1 class="pw-post-title gs gt gu bf gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu bk" data-testid="storyTitle" id="32aa">Ditch the Database</h1><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hv hw hx hy hz ab"><div><div class="ab ia"><div><div aria-hidden="false" class="bm"><a href="https://medium.com/@davidhurley_48402?source=post_page---byline--20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="l ib ic by id ie"><div class="l fj"><img alt="David Hurley" class="l fd by dd de cx" data-testid="authorPhoto" height="44" loading="lazy" src="https://miro.medium.com/v2/resize:fill:88:88/2*jk3D7Q3_9m0fRcDvxceA_A.jpeg" width="44"/><div class="if by l dd de fs n ig ft"></div></div></div></a></div></div><div class="ih ab fj"><div><div aria-hidden="false" class="bm"><a href="https://towardsdatascience.com/?source=post_page---byline--20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="l ii ij by id ik"><div class="l fj"><img alt="Towards Data Science" class="l fd by br il cx" data-testid="publicationPhoto" height="24" loading="lazy" src="https://miro.medium.com/v2/resize:fill:48:48/1*CJe3891yB1A1mzMdqemkdg.jpeg" width="24"/><div class="if by l br il fs n ig ft"></div></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="im ab q"><div class="ab q in"><div class="ab q"><div><div aria-hidden="false" class="bm"><p class="bf b io ip bk"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" data-testid="authorName" href="https://medium.com/@davidhurley_48402?source=post_page---byline--20a5a0a1fb72--------------------------------" rel="noopener follow">David Hurley</a></p></div></div></div><span aria-hidden="true" class="ir is"><span class="bf b bg z du">¬∑</span></span><p class="bf b io ip du"><span><a class="it iu ah ai aj ak al am an ao ap aq ar ex iv iw" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F995c0a4ee38f&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=post_page-995c0a4ee38f--byline--20a5a0a1fb72---------------------post_header-----------" rel="noopener follow">Follow</a></span></p></div></div></span></div></div><div class="l ix"><span class="bf b bg z du"><div class="ab cn iy iz ja"><div class="jb jc ab"><div class="bf b bg z du ab jd"><span class="je l ix">Published in</span><div><div aria-hidden="false" class="l"><a class="af ag ah ai aj ak al am an ao ap aq ar iq ab q" data-testid="publicationName" href="https://towardsdatascience.com/?source=post_page---byline--20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b bg z jf jg jh ji jj jk jl jm bk">Towards Data Science</p></a></div></div></div><div class="h k"><span aria-hidden="true" class="ir is"><span class="bf b bg z du">¬∑</span></span></div></div><span class="bf b bg z du"><div class="ab ae"><span data-testid="storyReadTime">5 min read</span><div aria-hidden="true" class="jn jo l"><span aria-hidden="true" class="l"><span class="bf b bg z du">¬∑</span></span></div><span data-testid="storyPublishDate">Jun 3, 2020</span></div></span></div></span></div></div></div><div class="ab cp jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke"><div class="h k w fg fh q"><div class="ku l"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20a5a0a1fb72&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=---header_actions--20a5a0a1fb72---------------------clap_footer-----------" rel="noopener follow"><div><div aria-hidden="false" class="bm"><div class="la ao lb lc ld le am lf lg lh kz"><svg aria-label="clap" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" fill-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></div><div><div aria-hidden="false" class="bm"><button aria-label="responses" class="ao la ls lt ab q fk lu lv"><svg class="lr" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b dv z du"><span class="pw-responses-count lq lr">2</span></p></button></div></div></div><div class="ab q kf kg kh ki kj kk kl km kn ko kp kq kr ks kt"><div class="lw k j i d"></div><div class="h k"><div><div aria-hidden="false" class="bm"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20a5a0a1fb72&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=---header_actions--20a5a0a1fb72---------------------bookmark_footer-----------" rel="noopener follow"><svg aria-label="Add to list bookmark button" class="du lx" fill="none" height="25" viewbox="0 0 25 25" width="25" xmlns="http://www.w3.org/2000/svg"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z" fill="currentColor"></path></svg></a></span></div></div></div><div class="fd ly cn"><div class="l ae"><div class="ab cb"><div class="lz ma mb mc md me ci bh"><div class="ab"><div aria-hidden="false" class="bm bh"><div><div aria-hidden="false" class="bm"><button aria-label="Listen" class="af fk ah ai aj ak al mf an ao ap ex mg mh lv mi mj mk ml mm s mn mo mp mq mr ms mt u mu mv mw" data-testid="audioPlayButton"><svg fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" fill="currentColor" fill-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Listen</p></div></button></div></div></div></div></div></div></div></div><div aria-describedby="postFooterSocialMenu" aria-hidden="false" aria-labelledby="postFooterSocialMenu" class="bm"><div><div aria-hidden="false" class="bm"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" class="af fk ah ai aj ak al mf an ao ap ex mg mh lv mi mj mk ml mm s mn mo mp mq mr ms mt u mu mv mw" data-testid="headerSocialShareButton"><svg fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" fill="currentColor" fill-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Share</p></div></button></div></div></div></div></div></div></div></div></div><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="0e85">How to use AWS S3 Select to query smarter and maybe cheaper</p><figure class="ny nz oa ob oc od nv nw paragraph-image"><div class="oe of fj og bh oh" role="button" tabindex="0"><div class="nv nw nx"><picture><source sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*iwSfk8QQwE3umx1n 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*iwSfk8QQwE3umx1n 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*iwSfk8QQwE3umx1n 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*iwSfk8QQwE3umx1n 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*iwSfk8QQwE3umx1n 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*iwSfk8QQwE3umx1n 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iwSfk8QQwE3umx1n 1400w" type="image/webp"/><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/v2/resize:fit:640/0*iwSfk8QQwE3umx1n 640w, https://miro.medium.com/v2/resize:fit:720/0*iwSfk8QQwE3umx1n 720w, https://miro.medium.com/v2/resize:fit:750/0*iwSfk8QQwE3umx1n 750w, https://miro.medium.com/v2/resize:fit:786/0*iwSfk8QQwE3umx1n 786w, https://miro.medium.com/v2/resize:fit:828/0*iwSfk8QQwE3umx1n 828w, https://miro.medium.com/v2/resize:fit:1100/0*iwSfk8QQwE3umx1n 1100w, https://miro.medium.com/v2/resize:fit:1400/0*iwSfk8QQwE3umx1n 1400w"/><img alt="" class="bh me oi c" height="467" loading="eager" role="presentation" width="700"/></picture></div></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Photo by <a class="af on" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="af on" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="8686"><em class="oo">Amazon S3 Select, a feature of Amazon S3, became generally available in April of 2018. By using Amazon S3 Select it‚Äôs possible to run an application without a ‚Äúclassical‚Äù database making app architecture simpler.</em></p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="2595">Anyone who works with data has probably used a cloud-based storage solution at some point in their data pipeline. Personally, Amazon S3 is my preferred choice as it‚Äôs relatively simple to use, easy to scale, couples with other AWS services, and stores objects of nearly any file type.</p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="6aac">While Amazon S3 is AWESOME for storing datasets it, like other traditional cloud-based object storage solutions, doesn't allow retrieving subsets of a dataset (i.e. the entire dataset must be retrieved). For example, if you need the first 1000 lines of a 1 million line dataset you have to retrieve the entire dataset and filter locally.<em class="oo"></em>This makes it impractical to use Amazon S3 as the sole database for applications, particularly apps that constantly need to retrieve subsets of a larger dataset (i.e. web app retrieving customer records).</p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="188d">Enter Amazon S3 Select üôå</p><h1 class="op oq gu bf or os ot ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm bk" id="e649">Overview ‚Äî Amazon S3 Select</h1><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="e859">Amazon S3 Select lets you use simple SQL expressions to pull out only the data you need from an Amazon S3 object. <strong class="mz gv">This is HUGE!!!</strong></p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="8da8">With S3 Select you no longer need to retrieve an entire dataset only to retain a few lines. Instead, you can use classic SQL expressions to query data in place and retrieve only a subset, such as data between two dates or above a certain price. Currently Amazon S3 Select works with objects in CSV, JSON, and Apache Parquet format.</p><blockquote class="ps pt pu"><p class="mx my oo mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="0149">By reducing the volume of data that has to be loaded and processed by your applications, S3 Select can improve the performance of most applications that frequently access data from S3 by <strong class="mz gv">up to 400%</strong>. ‚Äî Amazon Web Services</p></blockquote><h1 class="op oq gu bf or os ot ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm bk" id="36d1">Simplify with Amazon S3 Select</h1><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="f039">The best part of Amazon S3 Select is how it simplifies application structure. Prior to Amazon S3 Select, the typical structure of a web app may have looked like the following.</p><ul class=""><li class="mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu pv pw px bk" id="e088"><em class="oo">Store data in a classic SQL (i.e. MySQL or PostgreSQL) or NoSQL (i.e. DynamoDB) database where it can be queried.</em></li><li class="mx my gu mz b na py nc nd ne pz ng nh ni qa nk nl nm qb no np nq qc ns nt nu pv pw px bk" id="0dc3"><em class="oo">Keep backup copies of the data in persistent object storage (i.e. Amazon S3)</em></li><li class="mx my gu mz b na py nc nd ne pz ng nh ni qa nk nl nm qb no np nq qc ns nt nu pv pw px bk" id="14a2"><em class="oo">Transfer new data into Amazon S3 and then add to the database.</em></li></ul><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="d568">With Amazon S3 Select the structure of the web app looks like the following.</p><ul class=""><li class="mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu pv pw px bk" id="3ac1"><em class="oo">Store data in Amazon S3 where it can be queried.</em></li></ul><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="54f4"><strong class="mz gv">SO MUCH BETTER! Now you can build an end-to-end application using only Amazon S3. It‚Äôs fast, cheap, and simple to interface with! üëç</strong></p><h1 class="op oq gu bf or os ot ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm bk" id="0e12">Example ‚Äî Amazon S3 Select</h1><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="fe06">Recently <a class="af on" href="/building-a-dynamic-weather-download-app-1ce64a6c3e61" rel="noopener" target="_blank">I built and deployed a web application</a> to make downloading and visualizing historical Canadian weather data easier and faster. This was the first web application I built where I didn‚Äôt use a classic database and instead stored and queried static and dynamic data directly from Amazon S3. Using Amazon S3 Select I was able to quickly and easily take user inputs from my dynamic dashboard, pass them into a SELECT expression, and query and retrieve only the data requested.</p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="9137">Below are some example data and a function to query a CSV in Amazon S3 and return a CSV format that can be read into a Pandas Dataframe. Amazon S3 SQL syntax for CSV can be a bit tricky. You can either query using column names or column index and based on which one you choose the SQL expression will be different.</p><figure class="ny nz oa ob oc od nv nw paragraph-image"><div class="nv nw qd"><picture><source sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 544px" srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 1100w, https://miro.medium.com/v2/resize:fit:1088/format:webp/1*8UlDvpMo-E7hleDkTfsRBA.png 1088w" type="image/webp"/><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 544px" srcset="https://miro.medium.com/v2/resize:fit:640/1*8UlDvpMo-E7hleDkTfsRBA.png 640w, https://miro.medium.com/v2/resize:fit:720/1*8UlDvpMo-E7hleDkTfsRBA.png 720w, https://miro.medium.com/v2/resize:fit:750/1*8UlDvpMo-E7hleDkTfsRBA.png 750w, https://miro.medium.com/v2/resize:fit:786/1*8UlDvpMo-E7hleDkTfsRBA.png 786w, https://miro.medium.com/v2/resize:fit:828/1*8UlDvpMo-E7hleDkTfsRBA.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*8UlDvpMo-E7hleDkTfsRBA.png 1100w, https://miro.medium.com/v2/resize:fit:1088/1*8UlDvpMo-E7hleDkTfsRBA.png 1088w"/><img alt="" class="bh me oi c" height="435" loading="lazy" role="presentation" width="544"/></picture></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Example ‚Äútest.csv‚Äù</figcaption></figure><figure class="ny nz oa ob oc od"><div class="qe jf l fj"><div class="qf qg l"></div></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Function to query CSV in Amazon S3 and unpack data to CSV format</figcaption></figure><h2 class="qh oq gu bf or qi qj dy ov qk ql ea oz ni qm qn qo nm qp qq qr nq qs qt qu qv bk" id="17ad">How to Query By Column Name?</h2><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="a0dc">Let's query the above dataset between two dates using column names and return only the corresponding columns for date, wind speed, and wind direction.</p><figure class="ny nz oa ob oc od"><div class="qe jf l fj"><div class="qf qg l"></div></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Query CSV in Amazon S3 using column names</figcaption></figure><figure class="ny nz oa ob oc od nv nw paragraph-image"><div class="nv nw qw"><picture><source sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 315px" srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 1100w, https://miro.medium.com/v2/resize:fit:630/format:webp/1*k4AuXMAuitFm6qruIXcTiA.png 630w" type="image/webp"/><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 315px" srcset="https://miro.medium.com/v2/resize:fit:640/1*k4AuXMAuitFm6qruIXcTiA.png 640w, https://miro.medium.com/v2/resize:fit:720/1*k4AuXMAuitFm6qruIXcTiA.png 720w, https://miro.medium.com/v2/resize:fit:750/1*k4AuXMAuitFm6qruIXcTiA.png 750w, https://miro.medium.com/v2/resize:fit:786/1*k4AuXMAuitFm6qruIXcTiA.png 786w, https://miro.medium.com/v2/resize:fit:828/1*k4AuXMAuitFm6qruIXcTiA.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*k4AuXMAuitFm6qruIXcTiA.png 1100w, https://miro.medium.com/v2/resize:fit:630/1*k4AuXMAuitFm6qruIXcTiA.png 630w"/><img alt="" class="bh me oi c" height="168" loading="lazy" role="presentation" width="315"/></picture></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Query result</figcaption></figure><h2 class="qh oq gu bf or qi qj dy ov qk ql ea oz ni qm qn qo nm qp qq qr nq qs qt qu qv bk" id="ac3c"><strong class="al">How to Query By Column Index?</strong></h2><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="024b">Let‚Äôs query the above dataset when the temperature is greater than 20 degrees Celsius using column index and return only the corresponding columns for date and temperature.</p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="77b4">Notice that the index starts at 1 (i.e. <em class="oo">s._1</em>) in S3 Select whereas Python would be 0. Make sure you are comparing common data types in the SQL expression by using the ‚Äúcast‚Äù command to convert one data type to another. If my temperature data had been string format I would have needed <em class="oo">‚Äúcast(s._4 as float) &gt; 20‚Äù</em>.</p><figure class="ny nz oa ob oc od"><div class="qe jf l fj"><div class="qf qg l"></div></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Query CSV in Amazon S3 using column index</figcaption></figure><figure class="ny nz oa ob oc od nv nw paragraph-image"><div class="nv nw qx"><picture><source sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 224px" srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 1100w, https://miro.medium.com/v2/resize:fit:448/format:webp/1*V6rzFWfyeE5wRDc2WlEzoQ.png 448w" type="image/webp"/><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 224px" srcset="https://miro.medium.com/v2/resize:fit:640/1*V6rzFWfyeE5wRDc2WlEzoQ.png 640w, https://miro.medium.com/v2/resize:fit:720/1*V6rzFWfyeE5wRDc2WlEzoQ.png 720w, https://miro.medium.com/v2/resize:fit:750/1*V6rzFWfyeE5wRDc2WlEzoQ.png 750w, https://miro.medium.com/v2/resize:fit:786/1*V6rzFWfyeE5wRDc2WlEzoQ.png 786w, https://miro.medium.com/v2/resize:fit:828/1*V6rzFWfyeE5wRDc2WlEzoQ.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*V6rzFWfyeE5wRDc2WlEzoQ.png 1100w, https://miro.medium.com/v2/resize:fit:448/1*V6rzFWfyeE5wRDc2WlEzoQ.png 448w"/><img alt="" class="bh me oi c" height="245" loading="lazy" role="presentation" width="224"/></picture></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Query result</figcaption></figure><h2 class="qh oq gu bf or qi qj dy ov qk ql ea oz ni qm qn qo nm qp qq qr nq qs qt qu qv bk" id="f19e">How to Query Header Names?</h2><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="b483">Let‚Äôs query only the header names from the above dataset so that we can use them to append to other query results or as inputs to a dynamic dashboard dropdown. In this case, I set <em class="oo">use_header</em>to <em class="oo">False</em>so that column names are returned in the first row and<em class="oo"></em>use the S3 Select LIMIT feature to limit the number of rows returned to 1.</p><figure class="ny nz oa ob oc od"><div class="qe jf l fj"><div class="qf qg l"></div></div><figcaption class="oj ff ok nv nw ol om bf b bg z du">Query CSV in Amazon S3 for column headers</figcaption></figure><pre class="ny nz oa ob oc qy qz ra rb ay rc bk"><span class="qh oq gu qz b io rd re l jd rf" id="81cf">#  query result<br/>['Date/Time', 'Longitude', 'Latitude', 'Temperature', 'Wind Speed', 'Wind Direction']</span></pre><h1 class="op oq gu bf or os ot ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm bk" id="3fde">Cost of Amazon S3 Select</h1><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="6ed5">Amazon S3 Select is CHEAP! Here is a breakdown of the starting costs for my application (current as of June 2020).</p><ul class=""><li class="mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu pv pw px bk" id="20a6">Amazon S3 object storage ‚Äî $0.023 per GB (first 50 TB/Month)</li><li class="mx my gu mz b na py nc nd ne pz ng nh ni qa nk nl nm qb no np nq qc ns nt nu pv pw px bk" id="c7b4">Amazon S3 Select ‚Äî $0.0004 per 1000 SELECT commands</li><li class="mx my gu mz b na py nc nd ne pz ng nh ni qa nk nl nm qb no np nq qc ns nt nu pv pw px bk" id="2e3a">Amazon S3 Data Transfer‚Äî $0.01 per GB (S3 ‚Üí U.S. East Region)</li></ul><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="7729">I store approximately 37 GB of data in S3, perform nearly 100,000 SELECT commands a month, and transfer approximately 50 GB of data out of S3 a month. That brings my estimated monthly costs to‚Ä¶.$1.39 USD!</p><h1 class="op oq gu bf or os ot ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm bk" id="81fb">Conclusion</h1><p class="pw-post-body-paragraph mx my gu mz b na pn nc nd ne po ng nh ni pp nk nl nm pq no np nq pr ns nt nu gn bk" id="d392">Although Amazon S3 Select has been available for more than 2-years (in code years that‚Äôs a millennium üòÜ) it‚Äôs a great tool for simplifying applications, particularly microservice frameworks.</p><p class="pw-post-body-paragraph mx my gu mz b na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu gn bk" id="e2a8">Happy querying!</p></div></div></div></div></section></div></div></article></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="rg rh ab ja"><div class="ri ab"><a class="rj ay am ao" href="https://medium.com/tag/aws?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="rk fj cx rl ge rm rn bf b bg z bk ro">AWS</div></a></div><div class="ri ab"><a class="rj ay am ao" href="https://medium.com/tag/sql?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="rk fj cx rl ge rm rn bf b bg z bk ro">Sql</div></a></div><div class="ri ab"><a class="rj ay am ao" href="https://medium.com/tag/database?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="rk fj cx rl ge rm rn bf b bg z bk ro">Database</div></a></div><div class="ri ab"><a class="rj ay am ao" href="https://medium.com/tag/data-science?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="rk fj cx rl ge rm rn bf b bg z bk ro">Data Science</div></a></div><div class="ri ab"><a class="rj ay am ao" href="https://medium.com/tag/towards-data-science?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="rk fj cx rl ge rm rn bf b bg z bk ro">Towards Data Science</div></a></div></div></div></div><div class="l"></div><footer class="rp rq rr rs rt ru rv rw rx ab q ry ik c"><div class="l ae"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab cp rz"><div class="ab q kv"><div class="sa l"><span class="l sb sc sd e d"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20a5a0a1fb72&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=---footer_actions--20a5a0a1fb72---------------------clap_footer-----------" rel="noopener follow"><div><div aria-hidden="false" class="bm"><div class="la ao lb lc ld le am lf lg lh kz"><svg aria-label="clap" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" fill-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span><span class="l h g f se sf"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20a5a0a1fb72&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=---footer_actions--20a5a0a1fb72---------------------clap_footer-----------" rel="noopener follow"><div><div aria-hidden="false" class="bm"><div class="la ao lb lc ld le am lf lg lh kz"><svg aria-label="clap" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" fill-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span></div><div class="bq ab"><div><div aria-hidden="false" class="bm"><button aria-label="responses" class="ao la ls lt ab q fk lu lv"><svg class="lr" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b bg z du"><span class="pw-responses-count lq lr">2</span></p></button></div></div></div></div><div class="ab q"><div class="sg l ix"><div><div aria-hidden="false" class="bm"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20a5a0a1fb72&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;source=---footer_actions--20a5a0a1fb72---------------------bookmark_footer-----------" rel="noopener follow"><svg aria-label="Add to list bookmark button" class="du lx" fill="none" height="25" viewbox="0 0 25 25" width="25" xmlns="http://www.w3.org/2000/svg"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z" fill="currentColor"></path></svg></a></span></div></div></div><div class="sg l ix"><div aria-describedby="postFooterSocialMenu" aria-hidden="false" aria-labelledby="postFooterSocialMenu" class="bm"><div><div aria-hidden="false" class="bm"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" class="af fk ah ai aj ak al mf an ao ap ex mg mh lv mi" data-testid="footerSocialShareButton"><svg fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" fill="currentColor" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="sh si sj sk sl l bx"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="sm l"><div class="ab sn so sp iz iy"><div class="sq sr ss st su sv sw sx sy sz ab cp"><div class="h k"><a href="https://towardsdatascience.com/?source=post_page---post_publication_info--20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="Towards Data Science" class="ta ib ic cx" height="48" loading="lazy" src="https://miro.medium.com/v2/resize:fill:96:96/1*CJe3891yB1A1mzMdqemkdg.jpeg" width="48"/><div class="ta l ic ib fs n fr tb"></div></div></a></div><div class="j i d"><a href="https://towardsdatascience.com/?source=post_page---post_publication_info--20a5a0a1fb72--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="Towards Data Science" class="ta td tc cx" height="64" loading="lazy" src="https://miro.medium.com/v2/resize:fill:128:128/1*CJe3891yB1A1mzMdqemkdg.jpeg" width="64"/><div class="ta l tc td fs n fr tb"></div></div></a></div><div class="j i d te ix"><div class="ab"><span><a class="bf b bg z tf rk tg th ti tj tk ev ew tl tm tn fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;collection=Towards+Data+Science&amp;collectionId=7f60cf5620c9&amp;source=post_page---post_publication_info--20a5a0a1fb72---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="ab co to"><div class="tp tq tr ts tt l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" href="https://towardsdatascience.com/?source=post_page---post_publication_info--20a5a0a1fb72--------------------------------" rel="noopener follow"><h2 class="pw-author-name bf tv tw tx ty tz ua ub ni qn qo nm qq qr nq qt qu bk"><span class="gn tu">Published in <!-- -->Towards Data Science</span></h2></a><div class="ri ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="/followers?source=post_page---post_publication_info--20a5a0a1fb72--------------------------------" rel="noopener follow">766K Followers</a></span></div><div class="bf b bg z du ab jd"><span aria-hidden="true" class="ir l"><span class="bf b bg z du">¬∑</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="/explaining-llms-for-rag-and-summarization-067e486020b4?source=post_page---post_publication_info--20a5a0a1fb72--------------------------------" rel="noopener follow">Last published¬†<!-- -->1 hour ago</a></div></div><div class="uc l"><p class="bf b bg z bk"><span class="gn">Your home for data science. A publication sharing concepts, ideas and codes.</span></p></div></div></div><div class="h k"><div class="ab"><span><a class="bf b bg z tf rk tg th ti tj tk ev ew tl tm tn fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Ftowards-data-science&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;collection=Towards+Data+Science&amp;collectionId=7f60cf5620c9&amp;source=post_page---post_publication_info--20a5a0a1fb72---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div></div><div class="ab sn so sp iz iy"><div class="sq sr ss st su sv sw sx sy sz ab cp"><div class="h k"><a href="https://medium.com/@davidhurley_48402?source=post_page---post_author_info--20a5a0a1fb72--------------------------------" rel="noopener follow" tabindex="0"><div class="l fj"><img alt="David Hurley" class="l fd by ic ib cx" height="48" loading="lazy" src="https://miro.medium.com/v2/resize:fill:96:96/2*jk3D7Q3_9m0fRcDvxceA_A.jpeg" width="48"/><div class="fr by l ic ib fs n ay tb"></div></div></a></div><div class="j i d"><a href="https://medium.com/@davidhurley_48402?source=post_page---post_author_info--20a5a0a1fb72--------------------------------" rel="noopener follow" tabindex="0"><div class="l fj"><img alt="David Hurley" class="l fd by tc td cx" height="64" loading="lazy" src="https://miro.medium.com/v2/resize:fill:128:128/2*jk3D7Q3_9m0fRcDvxceA_A.jpeg" width="64"/><div class="fr by l tc td fs n ay tb"></div></div></a></div><div class="j i d te ix"><div class="ab"><span><a class="bf b bg z tf rk tg th ti tj tk ev ew tl tm tn fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F995c0a4ee38f&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=post_page-995c0a4ee38f--post_author_info--20a5a0a1fb72---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="ab co to"><div class="tp tq tr ts tt l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" href="https://medium.com/@davidhurley_48402?source=post_page---post_author_info--20a5a0a1fb72--------------------------------" rel="noopener follow"><h2 class="pw-author-name bf tv tw tx ty tz ua ub ni qn qo nm qq qr nq qt qu bk"><span class="gn tu">Written by <!-- -->David Hurley</span></h2></a><div class="ri ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="https://medium.com/@davidhurley_48402/followers?source=post_page---post_author_info--20a5a0a1fb72--------------------------------" rel="noopener follow">83 Followers</a></span></div><div class="bf b bg z du ab jd"><span aria-hidden="true" class="ir l"><span class="bf b bg z du">¬∑</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="https://medium.com/@davidhurley_48402/following?source=post_page---post_author_info--20a5a0a1fb72--------------------------------" rel="noopener follow">8 Following</a></div></div><div class="uc l"><p class="bf b bg z bk">Data Scientist in the energy industry | <a class="af ag ah ai aj ak al am an ao ap aq ar on go" href="https://www.linkedin.com/in/hurleydavid/" rel="noopener ugc nofollow">https://www.linkedin.com/in/hurleydavid/</a></p></div></div></div><div class="h k"><div class="ab"><span><a class="bf b bg z tf rk tg th ti tj tk ev ew tl tm tn fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F995c0a4ee38f&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fditch-the-database-20a5a0a1fb72&amp;user=David+Hurley&amp;userId=995c0a4ee38f&amp;source=post_page-995c0a4ee38f--post_author_info--20a5a0a1fb72---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="ud bh ue uf"></div></div></div><div class="h k j"><div class="ud bh ue ug"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="uh ab kv ja"><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Help</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Status</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/about?autoplay=1&amp;source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">About</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Careers</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="pressinquiries@medium.com?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Press</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Blog</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Privacy</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Terms</p></a></div><div class="ui uj l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Text to speech</p></a></div><div class="ui l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/business?source=post_page-----20a5a0a1fb72--------------------------------" rel="noopener follow"><p class="bf b dv z du">Teams</p></a></div></div></div></div></div></div></div></div></div></div>



























</body></html>